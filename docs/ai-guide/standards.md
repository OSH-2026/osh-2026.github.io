# 三：规范

## 概述

本节说明在 OSH 实验中使用 AI 辅助时的规范与学术诚信要求。

## 使用规范

本课程的基本原则是：**允许 AI，但不允许不可审计**。你的提交应当能让助教复现：你做了什么、为什么这么做、证据是什么、是否通过验证。

## 3.1 PIP 三段式：Plan → Implementation → Proof

把 AI 参与实验/大作业的过程固定成“三段式”，并把每段的产出写进报告或实验记录中。

### Plan（设计）

模型输出（或你整理后的结论）必须包含：

- **需求拆解**：功能/非功能/风险
- **可验证指标**：对应的 tests / perf / race / correctness 目标

### Implementation（实现）

- **模型负责**：生成可审阅的 patch/commit passage。
- **同学负责**：代码审阅、风险分析、取舍决策、最终合入（你对最终结果负责）。


### Proof（验证）

你的结果必须能被复现与检查，至少包含：自动化测试 + 最小复现 + 观测证据（trace/log）

## 3.2 “允许 AI，但不允许不可审计”

- **允许**
  - 生成脚手架、写测试、写报告骨架
  - 定位 bug（给出可复现路径与假设）
  - 生成 patch/commit passage
  - 整理 trace/log、做对比实验与总结

- **不允许**
  - 只交最终代码、没有过程与证据链（看不到 Plan/验证/trace）
  - AI 生成关键逻辑但你没有验证（没有测试、没有复现、没有观测）
  - 把模型的结论当“权威证明”直接引用（必须能被检查与复现）

## 3.3 Agent/自动化框架的“安全默认值”

如果使用 OpenClaw 或同类 agent 框架做自动化（跑测试、收集证据、生成 patch），必须遵循最小权限与可控风险的默认策略：

- **默认无写权限**：agent 默认只产出 patch/建议，不直接改主分支，不自动 push。
- **网络与凭据最小化**：外网访问、token、私钥必须最小权限；避免把敏感信息放进提示词/日志。
- **自动扫描**：启用/遵循仓库的 secret scanning、pre-commit 或等价检查；发现疑似泄露立即移除并轮换凭据。
- **审计留痕**：把关键命令、关键输出（测试、trace、基准）作为证据记录下来。

## 3.4 观测作为“证据链”的最低要求

课程落地建议：**每个实验至少产出一份 trace**（perf / ftrace / eBPF 三选一即可），并在记录中写清：

- 使用的工具与命令
- 关注的指标/事件
- 关键结论与对应证据位置（例如 trace 片段、统计结果）

（工具入口与参考链接见 `工具`一节；模型分层与记录建议见 `模型`一节。）
